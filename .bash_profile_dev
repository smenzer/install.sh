##
# Set git autocompletion and PS1 integration
GIT="null"
if [ -f /usr/local/git/contrib/completion/git-completion.bash ]; then
	. /usr/local/git/contrib/completion/git-completion.bash
fi
GIT_PS1_SHOWDIRTYSTATE=true
GIT_PS1_SHOWSTASHSTATE=true
GIT_PS1_SHOWUNTRACKEDFILES=true
GIT_PS1_SHOWUPSTREAM="auto"

if [ -f /opt/local/etc/bash_completion ]; then
	. /opt/local/etc/bash_completion
fi

if ![ type -t __git_ps1 > /dev/null 2>&1 ]; then
	alias __git_ps1="git branch 2>/dev/null | grep '*' | sed 's/* \(.*\)/(\1)/'"
fi

##
# set prompt
GREEN="\[\033[0;32m\]"
TEAL="\[\033[00;36m\]"
WHITE="\[\033[00m\]"
RED="\[\033[0;31m\]"
YELLOW="\[\033[0;33m\]"

export PS1="$WHITE[$GREEN\H$WHITE] $TEAL\w$YELLOW \$(__git_ps1)$WHITE\$ "

##
# include .bash_common 
if [ -f ~/.bash_common ]; then
  source ~/.bash_common
fi

##
# include eric's API wrapper
if [ -f ~/.api_wrapper ]; then
	AUTHDIR="/home/smenzer/api_auth/"
	source ~/.api_wrapper
fi

##
# add git dir to path
export PATH=$PATH:/usr/libexec/git-core
